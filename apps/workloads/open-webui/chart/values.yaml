open-webui:
  image:
    repository: ghcr.io/open-webui/open-webui
    tag: "0.6.36"
    pullPolicy: IfNotPresent

  extraEnvVars:
    - name: WEBUI_SECRET_KEY
      valueFrom:
        secretKeyRef:
          name: open-webui-oidc
          key: OIDC_CLIENT_SECRET
    - name: OAUTH_SESSION_TOKEN_ENCRYPTION_KEY
      valueFrom:
        secretKeyRef:
          name: open-webui-oidc
          key: OIDC_CLIENT_SECRET
    - name: OAUTH_CLIENT_INFO_ENCRYPTION_KEY
      valueFrom:
        secretKeyRef:
          name: open-webui-oidc
          key: OIDC_CLIENT_SECRET
    - name: ENABLE_SIGNUP
      value: "False"
    - name: ENABLE_PASSWORD_AUTH
      value: "False"
    - name: ENABLE_OAUTH_PERSISTENT_CONFIG
      value: "False"
    - name: ENABLE_OAUTH_SIGNUP
      value: "False"
    - name: ENABLE_INITIAL_ADMIN_SIGNUP
      value: "False"
    - name: MICROSOFT_REDIRECT_URI
      value: "https://openwebui.oremuslabs.app/oauth/microsoft/callback"
    - name: OPENID_PROVIDER_URL
      value: "https://login.microsoftonline.com/abfcbee8-658f-4ab3-97f5-9b357e0f8cda/v2.0"
    - name: OAUTH_PROVIDER_NAME
      value: "Oremus Labs"
    - name: OAUTH_SCOPES
      value: "openid email profile offline_access"

  commonEnvVars: []

  sso:
    enabled: true
    enableSignup: false
    microsoft:
      enabled: true
      clientId: af4fe910-bb07-4613-a3ba-5f51540aadad
      clientExistingSecret: open-webui-oidc
      clientExistingSecretKey: OIDC_CLIENT_SECRET
      tenantId: abfcbee8-658f-4ab3-97f5-9b357e0f8cda

  persistence:
    enabled: true
    size: 10Gi
    storageClass: ""
    accessModes:
      - ReadWriteOnce

  serviceAccount:
    create: true
    name: ""

  ollama:
    enabled: false

  pipelines:
    enabled: false

  tika:
    enabled: false

  websocket:
    enabled: true
    manager: redis
    url: redis://open-webui-redis:6379/0

  ingress:
    enabled: true
    class: traefik
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
    host: openwebui.oremuslabs.app
    tls: true
    existingSecret: oremuslabs-app-wildcard-tls

  config:
    secrets: {}
    environment: {}

oidcSecret:
  enabled: true
  name: open-webui-oidc
  itemPath: "vaults/fekk46izlezqrgocthhcn4xwp4/items/a2wlrk2ivlk64jg2hqs6re6idu"

# Legacy Traefik ingress block removed in favor of the chart's native ingress support

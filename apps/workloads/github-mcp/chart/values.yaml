replicaCount: 1

image:
  repository: python
  tag: 3.12-slim
  pullPolicy: IfNotPresent

serviceAccount:
  create: true
  name: ""
  annotations: {}

service:
  type: ClusterIP
  port: 8080

podAnnotations: {}
podLabels: {}

nodeSelector: {}
tolerations: []
affinity: {}

ingress:
  enabled: true
  className: traefik
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: websecure
  host: github-mcp.oremuslabs.app
  tls:
    secretName: oremuslabs-app-wildcard-tls

certificate:
  enabled: true
  secretName: oremuslabs-app-wildcard-tls
  issuerRef:
    name: cloudflare-dns
    kind: ClusterIssuer
  hosts:
    - "*.oremuslabs.app"
    - oremuslabs.app

upstream:
  url: https://api.githubcopilot.com/mcp/
  verifyTLS: true

patSecret:
  create: true
  name: github-mcp-token
  key: token
  onepassword:
    # Uses the shared repo-read PAT stored in 1Password.
    itemPath: "vaults/fekk46izlezqrgocthhcn4xwp4/items/t2jgbevjw6a645f4amgw73ay5u"

runtime:
  pipPackages:
    - fastapi==0.115.5
    - uvicorn==0.32.0
    - httpx==0.28.1
    - sse-starlette==3.0.3

env: []
extraEnvFrom: []

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 250m
    memory: 512Mi

livenessProbe:
  httpGet:
    path: /healthz
    port: http
  initialDelaySeconds: 10
  periodSeconds: 30

readinessProbe:
  httpGet:
    path: /healthz
    port: http
  initialDelaySeconds: 5
  periodSeconds: 15

replicaCount: 1

ingress:
  enabled: false

service:
  type: ClusterIP
  portNumber: 4180

metrics:
  enabled: false

secret:
  enabled: false

config:
  provider: oidc
  oidcIssuerUrl: https://login.microsoftonline.com/abfcbee8-658f-4ab3-97f5-9b357e0f8cda/v2.0
  redirectUrl: https://auth.oremuslabs.app/oauth2/callback
  emailDomains:
    - "*"
  upstreams:
    - file:///dev/null
  cookie:
    samesite: lax
    secure: true

extraEnv:
  - name: OAUTH2_PROXY_CLIENT_ID
    valueFrom:
      secretKeyRef:
        name: oauth2-proxy-secret
        key: oidc.azure.clientId
  - name: OAUTH2_PROXY_CLIENT_SECRET
    valueFrom:
      secretKeyRef:
        name: oauth2-proxy-secret
        key: oidc.azure.clientSecret
  - name: OAUTH2_PROXY_COOKIE_SECRET
    valueFrom:
      secretKeyRef:
        name: oauth2-proxy-secret
        key: server.secretkey

extraArgs:
  set-xauthrequest: "true"
  pass-authorization-header: "true"
  skip-jwt-bearer-tokens: "true"
  scope: "openid profile email offline_access"
  oidc-groups-claim: "groups"

traefik:
  host: auth.oremuslabs.app
  tlsSecret: oremuslabs-app-wildcard-tls

onepassword:
  itemPath: "vaults/fekk46izlezqrgocthhcn4xwp4/items/6nwqovm6ajtq6xbqpsij4kigw4"

replicaCount: 1

ingress:
  enabled: false

service:
  type: ClusterIP
  portNumber: 4180

metrics:
  enabled: false

secret:
  enabled: false

config:
  existingSecret: oauth2-proxy
  # Full oauth2-proxy.cfg rendered into the ConfigMap
  configFile: |-
    provider = "oidc"
    oidc_issuer_url = "https://login.microsoftonline.com/abfcbee8-658f-4ab3-97f5-9b357e0f8cda/v2.0"
    redirect_url = "https://traefik.oremuslabs.app/oauth2/callback"
    email_domains = [ "*" ]
    upstreams = [ "file:///dev/null" ]
    cookie_secure = true
    cookie_samesite = "lax"

extraArgs:
  set-xauthrequest: "true"
  pass-authorization-header: "true"
  skip-jwt-bearer-tokens: "true"
  scope: "openid profile email offline_access"
  oidc-groups-claim: "groups"

traefik:
  host: auth.oremuslabs.app
  tlsSecret: oremuslabs-app-wildcard-tls

onepassword:
  itemPath: "vaults/fekk46izlezqrgocthhcn4xwp4/items/6nwqovm6ajtq6xbqpsij4kigw4"
